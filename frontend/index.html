<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RD New Projects</title>
    <!----------------https://tabulator.info/----------------------------->
    <link
      href="https://unpkg.com/tabulator-tables@5.4.3/dist/css/tabulator.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
      rel="stylesheet"
    />

    <!----------------External CSS Files----------------------------->
    <?!=includeExternalFile("frontend/CSS/main-CSS") ?>
    <?!=includeExternalFile("frontend/CSS/loader-wraper-CSS") ?>
    <?!=includeExternalFile("frontend/CSS/addNewCustomerWindow-CSS") ?>
  </head>

  <body>
    <!--Add new customer window-->
    <?!=includeExternalFile("frontend/addNewCustomerWidnow.html") ?>

    <div class="loader-wrapper" id="loader-wrapper">
      <div id="loader"></div>
      <div class="loaderText">Please wait</div>
    </div>
    <!-- <div class="form">-->
    <!------------------------------>
    <div class="userEmail" id="userEmail">welcome</div>
    <form class="form" id="userForm">
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Valeo_Logo.svg"
        alt="Valeo logo"
      />
      <div class="addNewProject-container">
        <div class="newProjectInformation">
          <div class="projectImputs-container">
            <div class="form_input-container">
              <label for="strCode">STR Code</label>
              <input id="strCode" type="text" required />
            </div>

            <div class="form_input-container">
              <label for="projectName">Project Name</label>
              <input id="projectName" type="text" required />
            </div>

            <div class="form_input-container">
              <div class="customerInputSection">
                <label for="customer">Customer</label>
                <select
                  name="customer"
                  class="customerInputSelect"
                  id="customer"
                  required
                >
                  <option></option>
                </select>

                <div class="addCustomer-container">
                  <button id="addCustomerButton" class="addCustomerButton">
                    <span class="material-symbols-outlined"> add </span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="buttonsSection">
            <div class="searchButton-container">
              <button id="searchButton" class="searchButton">
                <span class="material-symbols-outlined"> search </span>
              </button>
            </div>

            <div class="addProjectButton-container">
              <button id="addProjectButton" class="addProjectButton">
                <span class="material-symbols-outlined"> docs_add_on </span>
              </button>
            </div>
          </div>
        </div>
        <div class="alertsWindow" id="alertsWindow"></div>
        <div class="foldersAccesInformation">
          <div class="serverAcces-text">Server acces</div>

          <div class="servers-box" id="servers-box">
            <!------------ Template for server leds --------------------->
            <template id="ledBox-template">
              <div class="led-box">
                <div class="serverName-Box">
                  <p class="server-title">Server Name</p>
                </div>

                <a href="#" class="serverFiles">
                  <div class="led"></div>
                  <p
                    class="server-description serverWithFilesDescription"
                    id="serverWithFilesDescription"
                  >
                    Projects Folder
                  </p>
                </a>
                <a href="#" class="templateFiles">
                  <div class="led"></div>
                  <p
                    class="server-description serverWithTemplatesDescription"
                    id="serverWithTemplatesDescription"
                  >
                    Template Folder
                  </p>
                </a>
              </div>
            </template>
            <!------------------------------------------------>
          </div>
        </div>
      </div>
      <div id="projectList-container" class="projectList-container">
        <!-- ---------------------------------------------- -->
        <template>
          <div class="projectList">
            <div id="data-table" class="data-table"></div>
          </div>
        </template>
        <!-- ---------------------------------------------- -->
      </div>
      <!--</div>-->
      <div class="copyrights">designed and developed by Sebastian Jab≈Çecki</div>
    </form>
    <!--------------------- Projects List ----------------------------->
    <script
      type="text/javascript"
      src="https://unpkg.com/tabulator-tables@5.4.3/dist/js/tabulator.min.js"
    ></script>

    <!-- separate files with scripts -->

    <?!=includeExternalFile("frontend/scripts/scriptsOnPageLoad") ?>
    <?!=includeExternalFile("frontend/scripts/ProjectList") ?>
    <?!=includeExternalFile("frontend/scripts/servers_led_scripts") ?>
    <?!=includeExternalFile("frontend/scripts/addNewProjectButtonScripts") ?>
    <?!=includeExternalFile("frontend/scripts/searchButtonScripts") ?>
    <?!=includeExternalFile("frontend/scripts/aditionalScripts") ?>
    <?!=includeExternalFile("frontend/scripts/addNewCustomerNameScripts") ?>

    <!----------------------------------------------------------------->

    <script>
      let allFoldersAccessRights = false;
      let serverAccesInformation = [];
      const websiteElements = {};
      let projectsInformations = [];
      let customerList = [];

      document.addEventListener("DOMContentLoaded", pageLoad);

      websiteElements.alertsWindow = document.getElementById("alertsWindow");
      websiteElements.strCodeInputBox = document.getElementById("strCode");
      websiteElements.projectNameInputBox =
        document.getElementById("projectName");
      websiteElements.customerInputBox = document.getElementById("customer");
      websiteElements.newCustomerInputBox = document.getElementById(
        "newCustomer-inputBox"
      );
      websiteElements.newCustomerAllertWindow = document.getElementById(
        "AllertMessageForNewCustomerWindow"
      );
      websiteElements.userEmailWindow = document.getElementById("userEmail");

      /* ------------------------------------------------------------------------------------------ */
      /**
       * EVENT LISTENERS
       */
      document
        .getElementById("addCustomerButton")
        .addEventListener("click", afterButtonAddNewCustomerOnMainPage);

      document
        .getElementById("addProjectButton")
        .addEventListener("click", afterButtonAddNewProjectSubmit);

      document
        .getElementById("searchButton")
        .addEventListener("click", afterButtonSearchSubmit);

      /* ------------------------------------------------------------------------------------------ */
    </script>
  </body>
</html>
